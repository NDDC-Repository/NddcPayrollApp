@page "/earningsbydept"

@using NddcPayrollLibrary.Data.Reports;
@using NddcPayrollLibrary.Model.Report;
@using Syncfusion.Blazor.Charts;
@inject IReportsData repDb

@*<SfChart Title="Total Earnings Per Dept">
    <ChartPrimaryXAxis ValueType="Syncfusion.Blazor.Charts.ValueType.Category"></ChartPrimaryXAxis>
    <ChartSeriesCollection>
        <ChartSeries DataSource="@EarningsData" XName="DepartmentName" YName="Amount" Type="ChartSeriesType.Bar">

        </ChartSeries>
    </ChartSeriesCollection>
</SfChart>*@

<SfAccumulationChart Title="Mobile Browser Statistics">
    <AccumulationChartSeriesCollection>
        <AccumulationChartSeries DataSource="@EarningsData" XName="PFAName" YName="EmployeePension"
                                 Name="Browser">
        </AccumulationChartSeries>
    </AccumulationChartSeriesCollection>

    <AccumulationChartLegendSettings Visible="true"></AccumulationChartLegendSettings>
</SfAccumulationChart>

@code {

    //List<MyEarningsByDeptChartModel> EarningsData { get; set; }

    //protected override void OnInitialized()
    //{
    //    EarningsData = repDb.GetEarningsByDeptData();
    //}

    List<PensionSummaryModel> EarningsData { get; set; }

    protected override void OnInitialized()
    {
        EarningsData = repDb.GetPFASummary();
    }
}